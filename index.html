<!DOCTYPE html>
<html lang="en">
<head>
    <title>Final Proof: Scroll Hijacking with Detailed Content</title>
    <style>
        body, html {
            height: 100%;
            margin: 0;
            overflow: hidden; /* The main document does NOT have a real scrollbar */
            font-family: sans-serif;
            line-height: 1.6;
        }
        .page-container {
            display: flex;
            flex-direction: column;
            height: 100%;
        }
        .header, .footer {
            flex-shrink: 0;
            background: #2c3e50;
            color: white;
            padding: 1rem;
            text-align: center;
        }
        .content-area {
            flex-grow: 1;
            overflow: hidden; /* The visual container also does not scroll */
            background-color: #f0f2f5;
        }
        .content-wrapper {
            /* This is the element that is moved vertically by the script */
            transition: transform 0.1s ease-out;
        }
        .content-padding {
            padding: 1.5rem 3rem;
        }
        h3 {
            margin-top: 2.5rem;
            border-bottom: 2px solid #ccc;
            padding-bottom: 0.5rem;
        }
    </style>
</head>
<body>
    <div class="page-container">
        <header class="header"><h1>Sticky Header</h1></header>
        <main class="content-area">
            <div class="content-wrapper">
                <div class="content-padding">
                    <h2>This content moves using CSS Transform.</h2>
                    <p>A separate, fake 'scroll' event is fired on the document.</p>

                    <h3>Section A: Introduction</h3>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur et est sed felis feugiat maximus. Duis a enim ac diam tempus oportere. Pellentesque et felis ut nisi pharetra maximus. Sed sit amet rhoncus est, et accumsan ex. Proin et lorem sit amet ante convallis bibendum.</p>
                    <p>Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae; Donec a lorem eget massa lobortis dictum. In hac habitasse platea dictumst. Vivamus vel est ut turpis consequat porta. Integer eu felis et massa convallis commodo. Nam nec ante non lectus feugiat aliquet.</p>

                    <h3>Section B: Core Concepts</h3>
                    <p>Nullam quis risus eget urna mollis ornare vel eu leo. Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Cras mattis consectetur purus sit amet fermentum. Donec ullamcorper nulla non metus auctor fringilla. Maecenas sed diam eget risus varius blandit sit amet non magna.</p>
                    <p>Aenean eu leo quam. Pellentesque ornare sem lacinia quam venenatis vestibulum. Etiam porta sem malesuada magna mollis euismod. Vivamus sagittis lacus vel augue laoreet rutrum faucibus dolor auctor. Curabitur blandit tempus porttitor. Duis mollis, est non commodo luctus, nisi erat porttitor ligula, eget lacinia odio sem nec elit.</p>

                    <h3>Section C: Further Details</h3>
                    <p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.</p>
                    <p>Maecenas faucibus mollis interdum. Nulla vitae elit libero, a pharetra augue. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Aenean lacinia bibendum nulla sed consectetur. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent commodo cursus magna, vel scelerisque nisl consectetur et.</p>

                    <h3>Section D: Implementation</h3>
                    <p>Integer posuere erat a ante venenatis dapibus posuere velit aliquet. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Donec ullamcorper nulla non metus auctor fringilla. Cras mattis consectetur purus sit amet fermentum. Aenean eu leo quam. Pellentesque ornare sem lacinia quam venenatis vestibulum.</p>
                    <p>Vivamus sagittis lacus vel augue laoreet rutrum faucibus dolor auctor. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Sed posuere consectetur est at lobortis. Vestibulum id ligula porta felis euismod semper. Nullam id dolor id nibh ultricies vehicula ut id elit.</p>

                    <h3>Section E: Conclusion</h3>
                    <p>Curabitur blandit tempus porttitor. Maecenas sed diam eget risus varius blandit sit amet non magna. Duis mollis, est non commodo luctus, nisi erat porttitor ligula, eget lacinia odio sem nec elit. Donec sed odio dui. Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
                    <p>Nulla vitae elit libero, a pharetra augue. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Maecenas faucibus mollis interdum. Vestibulum id ligula porta felis euismod semper.</p>
                </div>
            </div>
        </main>
        <footer class="footer"><p>Sticky Footer</p></footer>
    </div>

    <script>
        const contentArea = document.querySelector('.content-area');
        const contentWrapper = document.querySelector('.content-wrapper');
        let currentY = 0;

        contentArea.addEventListener('wheel', (event) => {
            event.preventDefault();

            // Part 1: Visually move the content
            currentY -= event.deltaY;
            const maxScroll = -(contentWrapper.offsetHeight - contentArea.clientHeight);
            if (currentY > 0) currentY = 0;
            if (currentY < maxScroll) currentY = maxScroll;
            contentWrapper.style.transform = `translateY(${currentY}px)`;

            // Part 2: Fire a "proxy" scroll event on the document that your script can detect
            window.scrollTo(0, 0);

        }, { passive: false });

        // This listener simulates your script, proving the event fires on the document with scrollTop = 0
        document.addEventListener('scroll', (event) => {
            const scrollTop = event.target.documentElement ? event.target.documentElement.scrollTop : 0;
            console.log(`Document 'scroll' event fired. scrollTop is: ${scrollTop}`);
        });
    </script>
</body>
</html>
